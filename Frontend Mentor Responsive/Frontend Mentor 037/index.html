<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Age Calculator</title>
</head>
<style>
  /* ...your existing CSS... */
  @font-face {
  font-family: 'Poppins';
  src: url('assets/fonts/Poppins-Italic.ttf') format('truetype');
  font-weight: 400;
  font-style: italic;
}

:root {
  --primary: hsl(259, 100%, 65%);
  --error: hsl(0, 100%, 67%);
  --gray: hsl(0, 0%, 86%);
  --light-gray: hsl(0, 0%, 94%);
  --text: hsl(0, 1%, 44%);
  --black: hsl(0, 0%, 8%);
  --font-main: 'Poppins', sans-serif;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: var(--font-main);
}

body {
  background: var(--light-gray);
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.wrapper {
  background: white;
  border-bottom-right-radius: 20%;
  padding: 4rem;
  width: 90%;
  max-width: 800px;
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
}

.form {
  display: flex;
  gap: 2rem;
  margin-bottom: 2rem;
}

.field {
  display: flex;
  flex-direction: column;
  font-size: 0.75rem;
  color: var(--text);
}

label {
  font-weight: bold;
  letter-spacing: 2px;
}

input {
  width: 100px;
  height: 60px;
  font-size: 1.5rem;
  font-weight: bold;
  text-align: center;
  border: 2px solid var(--gray);
  border-radius: 10px;
  margin-top: 0.5rem;
  transition: border-color 0.3s ease;
}

input:focus,
input:hover {
  outline: none;
  border-color: var(--primary);
}

.error {
  color: var(--error);
  font-size: 0.7rem;
  margin-top: 0.3rem;
  font-style: italic;
  height: 1rem;
}

.submit-wrapper {
  position: relative;
  margin: 2rem 0;
}

.submit-wrapper hr {
  border: none;
  border-top: 2px solid var(--gray);
}

.submit-btn {
  position: absolute;
  right: 0;
  top: -2.5rem;
  width: 60px;
  height: 60px;
  background: var(--primary);
  border: none;
  border-radius: 50%;
  font-size: 2rem;
  color: white;
  cursor: pointer;
  transition: background 0.3s ease;
}

.submit-btn:hover {
  background: var(--black);
}

.result {
  font-size: 2.5rem;
  font-weight: 800;
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.value {
  color: var(--primary);
  margin-right: 1rem;
}

.footer {
  text-align: center;
  font-size: 0.75rem;
  margin-top: 4rem;
}

.footer a {
  color: hsl(228, 45%, 44%);
  text-decoration: none;
}

@media (max-width: 900px) {
  .wrapper {
    padding: 2rem;
    max-width: 600px;
  }
  .result {
    font-size: 2rem;
  }
}

@media (max-width: 600px) {
  .wrapper {
    padding: 1rem;
    max-width: 95vw;
    border-bottom-right-radius: 10%;
  }
  .form {
    flex-direction: column;
    gap: 1rem;
  }
  input {
    width: 100%;
    height: 50px;
    font-size: 1.2rem;
  }
  .submit-btn {
    width: 50px;
    height: 50px;
    font-size: 1.5rem;
    top: -2rem;
  }
  .result {
    font-size: 1.2rem;
    gap: 0.5rem;
  }
  .footer {
    font-size: 0.7rem;
    margin-top: 2rem;
  }
}

@media (max-width: 400px) {
  .wrapper {
    padding: 0.5rem;
  }
  .result {
    font-size: 1rem;
  }
}

</style>
<body>
  <main class="wrapper">
    <form class="form" id="age-form">
      <div class="field">
        <label for="day">DAY</label>
        <input type="text" id="day" placeholder="DD" />
        <span class="error" id="day-error"></span>
      </div>
      <div class="field">
        <label for="month">MONTH</label>
        <input type="text" id="month" placeholder="MM" />
        <span class="error" id="month-error"></span>
      </div>
      <div class="field">
        <label for="year">YEAR</label>
        <input type="text" id="year" placeholder="YYYY" />
        <span class="error" id="year-error"></span>
      </div>
    </form>

    <div class="submit-wrapper">
      <hr />
      <button class="submit-btn" id="submit" aria-label="Calculate age">
        &#10140;
      </button>
    </div>

    <section class="result">
      <div><span class="value" id="years">--</span> years</div>
      <div><span class="value" id="months">--</span> months</div>
      <div><span class="value" id="days">--</span> days</div>
    </section>
  </main>

  <footer class="footer">
    Challenge by <a href="https://www.frontendmentor.io?ref=challenge">Frontend Mentor</a>.
    Coded by <a href="#">Ilia Kviciani</a>.
  </footer>
  <script>
    function isLeapYear(year) {
      return (year % 4 === 0 && year % 100 !== 0) || (year % 400 === 0);
    }

    function getDaysInMonth(year, month) {
      return [31, isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month - 1];
    }

    function validate(day, month, year) {
      let valid = true;
      const now = new Date();
      const errors = { day: '', month: '', year: '' };

      if (!year || isNaN(year) || year < 1900 || year > now.getFullYear()) {
        errors.year = 'Must be a valid year';
        valid = false;
      }
      if (!month || isNaN(month) || month < 1 || month > 12) {
        errors.month = 'Must be a valid month';
        valid = false;
      }
      if (!day || isNaN(day) || day < 1 || day > 31) {
        errors.day = 'Must be a valid day';
        valid = false;
      }
      if (valid && day > getDaysInMonth(year, month)) {
        errors.day = 'Must be a valid day';
        valid = false;
      }
      if (valid) {
        const inputDate = new Date(year, month - 1, day);
        if (inputDate > now) {
          errors.year = 'Date must be in the past';
          valid = false;
        }
      }
      return errors;
    }

    function calculateAge(day, month, year) {
      const now = new Date();
      let years = now.getFullYear() - year;
      let months = now.getMonth() + 1 - month;
      let days = now.getDate() - day;

      if (days < 0) {
        months--;
        const prevMonth = now.getMonth() === 0 ? 12 : now.getMonth();
        const prevYear = now.getMonth() === 0 ? now.getFullYear() - 1 : now.getFullYear();
        days += getDaysInMonth(prevYear, prevMonth);
      }
      if (months < 0) {
        years--;
        months += 12;
      }
      return { years, months, days };
    }

    document.getElementById('submit').addEventListener('click', function(e) {
      e.preventDefault();
      const day = parseInt(document.getElementById('day').value, 10);
      const month = parseInt(document.getElementById('month').value, 10);
      const year = parseInt(document.getElementById('year').value, 10);

      const errors = validate(day, month, year);

      document.getElementById('day-error').textContent = errors.day;
      document.getElementById('month-error').textContent = errors.month;
      document.getElementById('year-error').textContent = errors.year;

      if (!errors.day && !errors.month && !errors.year) {
        const age = calculateAge(day, month, year);
        document.getElementById('years').textContent = age.years;
        document.getElementById('months').textContent = age.months;
        document.getElementById('days').textContent = age.days;
      } else {
        document.getElementById('years').textContent = '--';
        document.getElementById('months').textContent = '--';
        document.getElementById('days').textContent = '--';
      }
    });
  </script>
</body>
</html>
